"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[349],{3488:function(e,n,t){t.d(n,{D:function(){return o}});t(3158);var r=t(6373),a=t(9198),i=t(184),u=function(){return(0,i.jsx)(a.x,{display:"flex",justifyContent:"center",children:(0,i.jsx)(r.W0,{hcolor:function(e){return e.theme.colors.loader},height:80,width:80,ariaLabel:"loading"})})},o=function(e){var n=e.status,t=e.error;return(0,i.jsxs)(i.Fragment,{children:["pending"===n&&(0,i.jsx)(u,{}),"rejected"===n&&(0,i.jsx)(a.x,{color:"red",textAlign:"center",children:t.message})]})}},6004:function(e,n,t){t.d(n,{q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},3726:function(e,n,t){t.d(n,{j:function(){return u}});var r=t(885),a=t(6004),i=t(2791),u=function(){var e=(0,i.useState)(a.q.IDLE),n=(0,r.Z)(e,2),t=n[0],u=n[1],o=(0,i.useState)({message:""}),s=(0,r.Z)(o,2);return{status:t,setStatus:u,error:s[0],setError:s[1]}}},201:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(5861),a=t(885),i=t(7757),u=t.n(i),o=t(2791),s=t(1615),c=t(3504),l=t(6871),d=t(3488),f=t(6004),v=t(3726),h=t(184),p=function(e){var n=e.movies,t=e.location;return(0,h.jsx)("ul",{children:n.results.map((function(e){var n=e.id,r=e.original_title;return(0,h.jsx)("li",{children:(0,h.jsx)(c.rU,{to:"/movies/".concat(n),state:{from:t},children:r})},n)}))})},m=t(5705),g=t(5650),x=function(e){var n=e.name;return(0,h.jsx)(m.Bc,{name:n,render:function(e){return(0,h.jsx)("p",{children:e})}})},j=g.Ry().shape({query:g.Z_().min(1).max(13).required()}),y={query:""},E=function(e){var n=e.onSubmit;return(0,h.jsx)(m.J9,{initialValues:y,validationSchema:j,onSubmit:function(e,t){t.resetForm;n(e)},children:(0,h.jsxs)(m.l0,{autoComplete:"off",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(m.gN,{type:"text",name:"query",title:"Query may contain only letters, apostrophe, dash and spaces"}),(0,h.jsx)(x,{name:"query"})]}),(0,h.jsx)("button",{type:"submit",children:"Search"})]})})},S=function(){var e=(0,o.useState)(null),n=(0,a.Z)(e,2),t=n[0],i=n[1],m=(0,c.lr)(),g=(0,a.Z)(m,2),x=g[0],j=g[1],y=x.get("query"),S=(0,l.TH)(),b=(0,v.j)(),_=b.status,q=b.setStatus,k=b.error,D=b.setError;(0,o.useEffect)((function(){function e(){return(e=(0,r.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(f.q.PENDING),e.next=4,s.z1(y);case 4:n=e.sent,i(n.data),q(f.q.RESOLVED),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),D(e.t0),q(f.q.REJECTED);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}""!==y&&null!==y&&function(){e.apply(this,arguments)}()}),[y,D,q]);return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Movies"}),(0,h.jsx)(E,{onSubmit:function(e){var n=e.query;j({query:n})}}),(0,h.jsx)(d.D,{status:_,error:k}),t&&(0,h.jsx)(p,{movies:t,location:S})]})}},1615:function(e,n,t){t.d(n,{zv:function(){return c},TP:function(){return s},tx:function(){return l},Hg:function(){return u},z1:function(){return o}});var r="c24a579521956747b362db1dbfab545a",a=t(4569),i=t.n(a);function u(){return i().get("/trending/movie/day?",{params:{api_key:r}})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cat",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";return i().get("/search/movie?",{params:{api_key:r,language:"en-US",region:"US",include_adult:"false",query:e,page:n}})}function s(e){return i().get("/movie/".concat(e,"?"),{params:{api_key:r,language:"en-US"}})}function c(e){return i().get("/movie/".concat(e,"/credits?"),{params:{api_key:r,language:"en-US"}})}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i().get("/movie/".concat(e,"/reviews?"),{params:{api_key:r,language:"en-US",page:n}})}i().defaults.baseURL="https://api.themoviedb.org/3"}}]);
//# sourceMappingURL=349.01908894.chunk.js.map